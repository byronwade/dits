//! Gear hash table for FastCDC rolling hash.
//!
//! This table is precomputed for efficient rolling hash calculations.

/// Generate gear table for rolling hash (FastCDC algorithm)
pub fn generate_gear_table() -> [u32; 256] {
    let mut table = [0u32; 256];
    for i in 0..256 {
        // FastCDC gear hash formula
        table[i] = ((i as u32).wrapping_mul(0x1B3) + 1) & 0xFFFFFFFF;
    }
    table
}

/// Pre-computed gear hash table for rolling hash calculations.
/// Each entry corresponds to a byte value (0-255).
pub static GEAR_TABLE: [u32; 256] = [
    0x1B3, 0x366, 0x519, 0x6CC, 0x87F, 0xA32, 0xBE5, 0xD98,
    0xF4B, 0x10FE, 0x12B1, 0x1464, 0x1617, 0x17CA, 0x197D, 0x1B30,
    0x1CE3, 0x1E96, 0x2049, 0x21FC, 0x23AF, 0x2562, 0x2715, 0x28C8,
    0x2A7B, 0x2C2E, 0x2DE1, 0x2F94, 0x3147, 0x32FA, 0x34AD, 0x3660,
    0x3813, 0x39C6, 0x3B79, 0x3D2C, 0x3EDF, 0x4092, 0x4245, 0x43F8,
    0x45AB, 0x475E, 0x4911, 0x4AC4, 0x4C77, 0x4E2A, 0x4FDD, 0x5190,
    0x5343, 0x54F6, 0x56A9, 0x585C, 0x5A0F, 0x5BC2, 0x5D75, 0x5F28,
    0x60DB, 0x628E, 0x6441, 0x65F4, 0x67A7, 0x695A, 0x6B0D, 0x6CC0,
    0x6E73, 0x7026, 0x71D9, 0x738C, 0x753F, 0x76F2, 0x78A5, 0x7A58,
    0x7C0B, 0x7DBE, 0x7F71, 0x8124, 0x82D7, 0x848A, 0x863D, 0x87F0,
    0x89A3, 0x8B56, 0x8D09, 0x8EBC, 0x906F, 0x9222, 0x93D5, 0x9588,
    0x973B, 0x98EE, 0x9AA1, 0x9C54, 0x9E07, 0x9FBA, 0xA16D, 0xA320,
    0xA4D3, 0xA686, 0xA839, 0xA9EC, 0xAB9F, 0xAD52, 0xAF05, 0xB0B8,
    0xB26B, 0xB41E, 0xB5D1, 0xB784, 0xB937, 0xBAEA, 0xBC9D, 0xBE50,
    0xC003, 0xC1B6, 0xC369, 0xC51C, 0xC6CF, 0xC882, 0xCA35, 0xCBE8,
    0xCD9B, 0xCF4E, 0xD101, 0xD2B4, 0xD467, 0xD61A, 0xD7CD, 0xD980,
    0xDB33, 0xDCE6, 0xDE99, 0xE04C, 0xE1FF, 0xE3B2, 0xE565, 0xE718,
    0xE8CB, 0xEA7E, 0xEC31, 0xEDE4, 0xEF97, 0xF14A, 0xF2FD, 0xF4B0,
    0xF663, 0xF816, 0xF9C9, 0xFB7C, 0xFD2F, 0xFEE2, 0x10095, 0x10248,
    0x103FB, 0x105AE, 0x10761, 0x10914, 0x10AC7, 0x10C7A, 0x10E2D, 0x10FE0,
    0x11193, 0x11346, 0x114F9, 0x116AC, 0x1185F, 0x11A12, 0x11BC5, 0x11D78,
    0x11F2B, 0x120DE, 0x12291, 0x12444, 0x125F7, 0x127AA, 0x1295D, 0x12B10,
    0x12CC3, 0x12E76, 0x13029, 0x131DC, 0x1338F, 0x13542, 0x136F5, 0x138A8,
    0x13A5B, 0x13C0E, 0x13DC1, 0x13F74, 0x14127, 0x142DA, 0x1448D, 0x14640,
    0x147F3, 0x149A6, 0x14B59, 0x14D0C, 0x14EBF, 0x15072, 0x15225, 0x153D8,
    0x1558B, 0x1563E, 0x157F1, 0x159A4, 0x15B57, 0x15D0A, 0x15EBD, 0x16070,
    0x16223, 0x163D6, 0x16589, 0x1673C, 0x168EF, 0x16AA2, 0x16C55, 0x16E08,
    0x16FBB, 0x1716E, 0x17321, 0x174D4, 0x17687, 0x1783A, 0x179ED, 0x17BA0,
    0x17D53, 0x17F06, 0x180B9, 0x1826C, 0x1841F, 0x185D2, 0x18785, 0x18938,
    0x18AEB, 0x18C9E, 0x18E51, 0x19004, 0x191B7, 0x1936A, 0x1951D, 0x196D0,
    0x19883, 0x19A36, 0x19BE9, 0x19D9C, 0x19F4F, 0x1A102, 0x1A2B5, 0x1A468,
    0x1A61B, 0x1A7CE, 0x1A981, 0x1AB34, 0x1ACE7, 0x1AE9A, 0x1B04D, 0x1B200,
];